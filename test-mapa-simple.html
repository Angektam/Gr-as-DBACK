
<!DOCTYPE html>
<html>
<head>
    <title>Test Mapa GPS</title>
    <link rel='stylesheet' href='https://unpkg.com/leaflet@1.9.4/dist/leaflet.css' />
    <link rel='stylesheet' href='https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css' />
</head>
<body>
    <div id='mapa-test' style='height: 400px; width: 100%;'></div>
    <div id='distancia-test'>Calculando...</div>
    <div id='tiempo-test'>Calculando...</div>
    
    <script src='https://unpkg.com/leaflet@1.9.4/dist/leaflet.js'></script>
    <script src='https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js'></script>
    <script>
        // Test básico del mapa
        try {
            const mapa = L.map('mapa-test').setView([25.7945, -109.0000], 13);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(mapa);
            
            // Test de geocodificación
            fetch('https://nominatim.openstreetmap.org/search?format=json&q=Los+Mochis+Sinaloa&limit=1')
                .then(response => response.json())
                .then(data => {
                    if (data && data.length > 0) {
                        document.getElementById('distancia-test').textContent = 'Geocodificación exitosa: ' + data[0].display_name;
                        document.getElementById('tiempo-test').textContent = 'Coordenadas: ' + data[0].lat + ', ' + data[0].lon;
                    }
                })
                .catch(error => {
                    document.getElementById('distancia-test').textContent = 'Error: ' + error.message;
                });
        } catch (error) {
            document.getElementById('distancia-test').textContent = 'Error JavaScript: ' + error.message;
        }
    </script>
</body>
</html>